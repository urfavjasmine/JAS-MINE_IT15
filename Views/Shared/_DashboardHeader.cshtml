@using Microsoft.AspNetCore.Http
@using System.Linq
@{
    // ===== SESSION USER (replacement for useAuth) =====
    var userName = Context.Session.GetString("UserName") ?? "User";
    var barangay = Context.Session.GetString("Barangay") ?? "Barangay Office";

    var firstName = userName.Split(' ')[0];
}

<header class="dashboard-header d-flex align-items-center justify-content-between px-4 border-bottom bg-white" style="height:64px;">

    <!-- LEFT SIDE -->
    <div class="d-flex align-items-center gap-3">

        <!-- Mobile menu button -->
        <button id="sidebarToggleBtn" type="button" class="btn btn-outline-secondary d-lg-none">
            <i class="bi bi-list"></i>
        </button>

        <div class="d-none d-sm-block">
            <div class="fw-semibold">Welcome, @firstName</div>
            <small class="text-muted">@barangay</small>
        </div>
    </div>

    <!-- RIGHT SIDE -->
    <div class="d-flex align-items-center gap-2">

        <!-- Notifications Dropdown (ViewComponent) -->
        @await Component.InvokeAsync("Notifications")
    </div>

</header>
