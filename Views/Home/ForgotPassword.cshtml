@model JAS_MINE_IT15.Models.ForgotPasswordViewModel
@{
    ViewData["Title"] = "Forgot Password";
    Layout = null; 
}

<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>@ViewData["Title"] - JAS-MINE</title>

    <link rel="stylesheet" href="~/lib/bootstrap/dist/css/bootstrap.min.css" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet">

    <style>
        body {
            min-height: 100vh;
            margin: 0;
            background: #f5f7fb;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .page-wrap {
            width: 100%;
            padding: 24px;
        }

        .brand {
            text-align: center;
            margin-bottom: 28px;
        }

            .brand img {
                width: 86px;
                height: 86px;
                object-fit: contain;
                margin-bottom: 12px;
            }

            .brand h1 {
                margin: 0;
                font-weight: 800;
                letter-spacing: .5px;
                color: #173a63;
                font-size: 26px;
            }

            .brand p {
                margin: 4px 0 0;
                color: #6b7a90;
                font-size: 13px;
            }

        .card-reset {
            max-width: 520px;
            margin: 0 auto;
            border: 0;
            border-radius: 10px;
            box-shadow: 0 10px 30px rgba(16,24,40,.10);
        }

            .card-reset .card-body {
                padding: 28px;
            }

        .title {
            text-align: center;
            font-weight: 800;
            font-size: 22px;
            margin-bottom: 6px;
        }

        .subtitle {
            text-align: center;
            color: #6b7a90;
            font-size: 13px;
            margin-bottom: 18px;
        }

        .input-icon {
            position: relative;
        }

            .input-icon i {
                position: absolute;
                left: 12px;
                top: 50%;
                transform: translateY(-50%);
                color: #6b7a90;
            }

            .input-icon input {
                padding-left: 40px;
                height: 44px;
                border-radius: 8px;
            }

        .btn-primary-wide {
            height: 44px;
            border-radius: 8px;
            background: #173a63;
            border: 0;
            font-weight: 600;
        }

            .btn-primary-wide:hover {
                background: #0f2f55;
            }

        .back-link {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            color: #173a63;
            text-decoration: none;
            font-weight: 600;
        }

            .back-link:hover {
                text-decoration: underline;
            }

        .success-icon {
            width: 68px;
            height: 68px;
            border-radius: 50%;
            background: rgba(25,135,84,.12);
            color: #198754;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 8px auto 12px;
            font-size: 34px;
        }
    </style>
</head>
<body>
    <div class="page-wrap">
        <div class="brand">
            <!-- Put your logo in wwwroot/images/jas-mine-logo.png -->
            <img src="~/images/jasmine-logo.png" alt="JAS-MINE Logo" />
            <h1>JAS-MINE</h1>
            <p>Password Recovery</p>
        </div>

        <div class="card card-reset">
            <div class="card-body">
                @if (Model.Submitted)
                {
                    <div class="title">Check Your Email</div>
                    <div class="subtitle">
                        We’ve sent password reset instructions to your email address.
                    </div>

                    <div class="success-icon">
                        <i class="bi bi-check2-circle"></i>
                    </div>

                    <div class="text-center text-muted small mb-3">
                        Didn’t receive the email? Check your spam folder or try again.
                    </div>

                    <form method="get" asp-action="ForgotPassword" asp-controller="Home">
                        <button type="submit" class="btn btn-outline-secondary w-100 mb-3">
                            <i class="bi bi-arrow-clockwise me-2"></i>Try Again
                        </button>
                    </form>

                    <div class="text-center">
                        <a class="back-link" asp-action="Login" asp-controller="Home">
                            <i class="bi bi-arrow-left"></i> Back to Login
                        </a>
                    </div>
                }
                else
                {
                    <div class="title">Forgot Password</div>
                    <div class="subtitle">Enter your email address and we'll send you a reset link.</div>

                    <form method="post" asp-action="ForgotPassword" asp-controller="Home" class="mt-3">
                        @Html.AntiForgeryToken()

                        <div class="mb-2">
                            <label class="form-label fw-semibold">Email Address</label>
                            <div class="input-icon">
                                <i class="bi bi-envelope"></i>
                                <input asp-for="Email" type="email" class="form-control" placeholder="Enter your registered email" />
                            </div>
                            <span asp-validation-for="Email" class="text-danger small"></span>
                        </div>

                        <button type="submit" class="btn btn-primary-wide w-100 mt-3">
                            Send Reset Link
                        </button>

                        <div class="text-center mt-3">
                            <a class="back-link" asp-action="Login" asp-controller="Home">
                                <i class="bi bi-arrow-left"></i> Back to Login
                            </a>
                        </div>
                    </form>
                }
            </div>
        </div>
    </div>

    <script src="~/lib/bootstrap/dist/js/bootstrap.bundle.min.js"></script>

    <!-- validation -->
    <script src="~/lib/jquery/dist/jquery.min.js"></script>
    <script src="~/lib/jquery-validation/dist/jquery.validate.min.js"></script>
    <script src="~/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.min.js"></script>
</body>
</html>
